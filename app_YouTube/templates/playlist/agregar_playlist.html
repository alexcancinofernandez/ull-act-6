{% extends "base.html" %}
{% block content %}
<h2>Agregar Playlist</h2>

<form method="post">
  {% csrf_token %}

  <div class="mb-3">
    <label>Nombre</label>
    <input class="form-control" name="nombre" required>
  </div>

  <div class="mb-3">
    <label>Descripción</label>
    <textarea class="form-control" name="descripcion" rows="3" required></textarea>
  </div>

  <div class="mb-3">
    <label>Fecha de creación</label>
    <input type="date" class="form-control" name="fecha_creacion" required>
  </div>

  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" name="publica" checked>
    <label class="form-check-label">Pública</label>
  </div>

  <div class="mb-3">
    <label>Canal creador</label>
    <select name="canal_creador" class="form-control" required>
      <option value="">-- Selecciona un canal --</option>
      {% for canal in canales %}
      <option value="{{ canal.id }}">{{ canal.nombre }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label>Selecciona Videos</label>
    <select name="videos" class="form-control" multiple size="6">
      {% for v in videos %}
      <option value="{{ v.id }}">{{ v.titulo }} ({{ v.canal.nombre }})</option>
      {% endfor %}
    </select>
    <small class="text-muted">Mantén presionada CTRL (o CMD en Mac) para seleccionar varios.</small>
  </div>

  <div class="mb-3">
    <label>Número de videos (opcional)</label>
    <input type="number" name="n_videos" class="form-control" placeholder="Ejemplo: 5">
  </div>

  <div class="mb-3">
    <label>Orden de los videos (JSON opcional)</label>
    <textarea name="orden_videos" class="form-control" rows="2" placeholder='Ejemplo: {"orden": [1, 3, 2]}'></textarea>
    <small class="text-muted">Puedes dejarlo vacío, o ingresar un JSON válido con el orden deseado.</small>
  </div>

  <button class="btn btn-primary" type="submit">Guardar Playlist</button>
  <a href="{% url 'ver_playlist' %}" class="btn btn-secondary">Cancelar</a>
</form>

{% endblock %}
